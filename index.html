<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web propia de Andrea Escarpa</title>

    <link rel="dns-prefetch" href="https://code.jquery.com" />

    <!-- CSS crítico -->
    <style>
        .slider img {
            display: none;
            max-width: 100%;
            height: auto;
        }

        .slider {
            overflow: hidden;
        }

        .slider.slick-initialized {
            overflow: visible;
        }

        .navbar {
            background-color: #343a40;
            padding: 1rem;
        }

        .container {
            margin: 0 auto;
            padding: 20px;
        }
    </style>
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" media="print"
        onload="this.media='all'" />

    <!-- Slick CSS -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css" />
    <link rel="stylesheet" type="text/css"
        href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css" />

    <!-- Custom CSS -->
    <link href="css/general.css" rel="stylesheet" media="print" onload="this.media='all'" />

    <!-- jQuery (required for Slick) -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>

<body>
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
        <div class="container-fluid">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link active" href="index.html"><img width="30" height="30"
                            src="img/Logos/huella.png" /></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="centros.html"><img width="30" height="30"
                            src="img/Logos/hoja.png" /></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="catalogo.html"><img width="30" height="30"
                            src="img/Logos/arbol.png" /></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="busqueda.html"><img width="30" height="30"
                            src="img/Logos/lupa.png" /></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="contactos.html"><img width="30" height="30"
                            src="img/Logos/persona.png" /></a>
                </li>
            </ul>
        </div>
    </nav>

    <header>
        <div class="container text-center">
            <h1>Fauna Salvaje</h1>
        </div>
    </header>

    <div class="container text-center">
        <h3>¿Quiénes somos?</h3>
    </div>
    <section class="slider">
        <div>
            <img src="img/corzo.webp" alt="Corzo" loading="lazy" />
        </div>
        <div>
            <img src="img/foca.webp" alt="Foca" loading="lazy" />
        </div>
        <div>
            <img src="img/gabiota.webp" alt="Gaviota" loading="lazy" />
        </div>
        <div>
            <img src="img/gepardo2.webp" alt="Gepardo" loading="lazy" />
        </div>
        <div>
            <img src="img/lemur_cola_anillada.webp" alt="Lémur cola anillada" loading="lazy" />
        </div>
        <div>
            <img src="img/leopardo_de_las_nieves.webp" alt="Leopardo de las nieves" loading="lazy" />
        </div>
        <div>
            <img src="img/medusa_canon_azul2.webp" alt="Medusa Cañón Azul" loading="lazy" />
        </div>
        <div>
            <img src="img/oveja.webp" alt="Oveja" loading="lazy" />
        </div>
        <div>
            <img src="img/rinoceronte.webp" alt="Rinoceronte" loading="lazy" />
        </div>
        <div>
            <img src="img/tigre.webp" alt="Tigre" loading="lazy" />
        </div>
        <div>
            <img src="img/tortuga_marina.webp" alt="Tortuga Marina" loading="lazy" />
        </div>
        <div>
            <img src="img/vuitre_avierto.webp" alt="Vuitre Avierto" loading="lazy" />
        </div>
        <div>
            <img src="img/vulture.webp" alt="Vulture" loading="lazy" />
        </div>
        <div>
            <img src="img/zebra.webp" alt="Zebra" loading="lazy" />
        </div>
        <div>
            <img src="img/zopilote_real2.webp" alt="Zopilote Real" loading="lazy" />
        </div>
        <div>
            <img src="img/zorro.webp" alt="Zorro" loading="lazy" />
        </div>
    </section>

    <script>
        // JavaScript crítico
        document.addEventListener("DOMContentLoaded", function () {
            $(".slider").slick({
                autoplay: true,
                autoplaySpeed: 2000,
                speed: 500,
                centerMode: true,
                slidesToShow: 3,
                slidesToScroll: 1,
                arrows: true,
                dots: true,
                infinite: true
            });

            // Mostrar imágenes después de que todos los recursos críticos hayan cargado
            $(window).on("load", function () {
                let minHeight = Infinity;
                // Obtenemos el ancho de una diapositiva (slick ya ha inicializado)
                let slideWidth = $(".slick-slide").not(".slick-cloned").first().width();

                // Calculamos la altura proyectada de cada imagen y encontramos la mínima
                $(".slider img").each(function () {
                    // Usamos las dimensiones naturales para calcular la altura que tendría con el ancho actual
                    let h = (this.naturalHeight / this.naturalWidth) * slideWidth;
                    if (h < minHeight) {
                        minHeight = h;
                    }
                });

                // Aplicamos la altura mínima y object-fit
                $(".slider img").css({
                    "height": minHeight + "px",
                    "object-fit": "cover"
                });

                $(".slider img").fadeIn(400, function () {
                    $(".slider").slick("setPosition");
                });
            });

            // Ejemplo de solicitud Axios con manejo de errores
            if (typeof axios !== 'undefined') {
                axios
                    .get("/some-endpoint")
                    .then(function (response) {
                        console.log(response.data);
                    })
            }
        });
    </script>
</body>

</html>